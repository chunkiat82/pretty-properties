extends layout

block content  
  table(class='table table-hover table-bordered')
    thead
      tr
        th(style='width:5%')= 'Line'
        th(style='width:15%')= 'Key'
        th(style='width:80%')= 'Value'
    tbody
      each row, index in rows
        if row.existing
          if row.diff.length > 1
            tr(class='table-warning')
              th(scope='row')=index+1
              td= row.key              
              td
                ul(class='list-group')
                  each diff, index in row.diff
                    if diff.added
                      li(class='list-group-item list-group-item-success')= diff.value
                    else if diff.removed
                      li(class='list-group-item list-group-item-danger')= diff.value
                    else
                      li(class='list-group-item ')= diff.value

          else 
            tr
              th(scope='row')=index+1
              td
                p= row.left

        if row.added
          tr(class='table-success')
            th(scope='row')=index+1
            td= row.key
            td= row.value
        if row.removed
          tr(class='table-danger')
            th(scope='row')=index+1
            td= row.key
            td= row.value